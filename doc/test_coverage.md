# –ê–Ω–∞–ª–∏–∑ –ø–æ–∫—Ä—ã—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞ —Ç–µ—Å—Ç–∞–º–∏

> –î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞: 2025-01-09
> –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-01-09 (–¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è SmsService –∏ ReportController)
> –°—Ç–∞—Ç—É—Å: **–¢–µ—Å—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç**

---

## üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –í—Å–µ–≥–æ –º–µ—Ç–æ–¥–æ–≤ | –ü–æ–∫—Ä—ã—Ç–æ —Ç–µ—Å—Ç–∞–º–∏ | –ù–µ –ø–æ–∫—Ä—ã—Ç–æ | –ü–æ–∫—Ä—ã—Ç–∏–µ |
|-----------|---------------|-----------------|------------|----------|
| **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã** | 15 | 15 | 0 | **100%** |
| **–ú–æ–¥–µ–ª–∏ (ActiveRecord)** | 24 | 23 | 1 | **96%** |
| **–ú–æ–¥–µ–ª–∏ –ø–æ–∏—Å–∫–∞** | 6 | 6 | 0 | **100%** |
| **–°–µ—Ä–≤–∏—Å—ã** | 2 | 2 | 0 | **100%** |
| **–ò–¢–û–ì–û** | **47** | **46** | **1** | **98%** |

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤:** ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (85 —Ç–µ—Å—Ç–æ–≤, 274 assertions, 0 –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö)

---

## –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã

### AuthorController (7/7 –º–µ—Ç–æ–¥–æ–≤ = 100%) ‚úÖ

**–ú–µ—Ç–æ–¥—ã:**
- ‚úÖ `behaviors()` ‚Äî AccessControl, VerbFilter (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ functional-—Ç–µ—Å—Ç—ã)
- ‚úÖ `actionIndex()` ‚Äî —Å–ø–∏—Å–æ–∫ –∞–≤—Ç–æ—Ä–æ–≤ (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `actionView($id)` ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∞–≤—Ç–æ—Ä–∞ (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `actionCreate()` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `actionUpdate($id)` ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `actionDelete($id)` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `findModel($id)` ‚Äî –ø–æ–∏—Å–∫ –º–æ–¥–µ–ª–∏ (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –∫–æ—Å–≤–µ–Ω–Ω–æ)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
- ‚úÖ –î–æ—Å—Ç—É–ø –¥–ª—è –≥–æ—Å—Ç—è (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä) ‚Äî `guestCanViewAuthorList`, `guestCanViewAuthor`
- ‚úÖ –î–æ—Å—Ç—É–ø –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ (–≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏) ‚Äî `userCanCreateAuthor`, `userCanUpdateAuthor`, `userCanDeleteAuthor`
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚Äî –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

---

### BookController (7/7 –º–µ—Ç–æ–¥–æ–≤ = 100%) ‚úÖ

**–ú–µ—Ç–æ–¥—ã:**
- ‚úÖ `behaviors()` ‚Äî AccessControl, VerbFilter (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ functional-—Ç–µ—Å—Ç—ã)
- ‚úÖ `actionIndex()` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥ (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `actionView($id)` ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–Ω–∏–≥–∏ (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `actionCreate()` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–Ω–∏–≥–∏ —Å –∞–≤—Ç–æ—Ä–∞–º–∏ –∏ –æ–±–ª–æ–∂–∫–æ–π (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `actionUpdate($id)` ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏ (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `actionDelete($id)` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∏ (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `findModel($id)` ‚Äî –ø–æ–∏—Å–∫ –º–æ–¥–µ–ª–∏ (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –∫–æ—Å–≤–µ–Ω–Ω–æ)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
- ‚úÖ –î–æ—Å—Ç—É–ø –¥–ª—è –≥–æ—Å—Ç—è (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä) ‚Äî `guestCanViewBookList`, `guestCanViewBook`
- ‚úÖ –î–æ—Å—Ç—É–ø –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ (–≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏) ‚Äî `userCanCreateBook`, `userCanUpdateBook`, `userCanDeleteBook`
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚Äî –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –°–≤—è–∑–∏ —Å –∞–≤—Ç–æ—Ä–∞–º–∏ ‚Äî `userCanViewBookWithAuthors`

---

## –ú–æ–¥–µ–ª–∏ (ActiveRecord)

### Author (4/4 –º–µ—Ç–æ–¥–æ–≤ = 100%) ‚úÖ

**–ú–µ—Ç–æ–¥—ã:**
- ‚úÖ `rules()` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `attributeLabels()` ‚Äî –º–µ—Ç–∫–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- ‚úÖ `getBooks()` ‚Äî —Å–≤—è–∑—å —Å –∫–Ω–∏–≥–∞–º–∏ (viaTable) (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `tableName()` ‚Äî –∏–º—è —Ç–∞–±–ª–∏—Ü—ã (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π ‚Äî `testValidationRequiredFields`
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã ‚Äî `testValidationMaxLength`
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ ‚Äî `testSaveAuthor`
- ‚úÖ –°–≤—è–∑—å getBooks() ‚Äî `testGetBooksRelation`

---

### Book (6/7 –º–µ—Ç–æ–¥–æ–≤ = 86%) ‚úÖ

**–ú–µ—Ç–æ–¥—ã:**
- ‚úÖ `behaviors()` ‚Äî TimestampBehavior (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ created_at/updated_at)
- ‚úÖ `rules()` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `attributeLabels()` ‚Äî –º–µ—Ç–∫–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- ‚úÖ `getAuthors()` ‚Äî —Å–≤—è–∑—å —Å –∞–≤—Ç–æ—Ä–∞–º–∏ (viaTable) (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚ö†Ô∏è `upload()` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±–ª–æ–∂–∫–∏ (–Ω–µ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é, —Ç—Ä–µ–±—É–µ—Ç –º–æ–∫–æ–≤ —Ñ–∞–π–ª–æ–≤)
- ‚úÖ `afterFind()` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ authorIds (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `tableName()` ‚Äî –∏–º—è —Ç–∞–±–ª–∏—Ü—ã (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π ‚Äî `testValidationRequiredFields`
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≥–æ–¥–∞ (1000-2100) ‚Äî `testValidationYearRange`
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–Ω–∏–≥–∏ ‚Äî `testSaveBook`
- ‚úÖ –°–≤—è–∑—å getAuthors() ‚Äî `testGetAuthorsRelation`
- ‚úÖ afterFind() –∑–∞–≥—Ä—É–∂–∞–µ—Ç authorIds ‚Äî `testAfterFindLoadsAuthorIds`

---

### BookAuthor (4/4 –º–µ—Ç–æ–¥–æ–≤ = 100%) ‚úÖ

**–ú–µ—Ç–æ–¥—ã:**
- ‚úÖ `rules()` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `attributeLabels()` ‚Äî –º–µ—Ç–∫–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- ‚úÖ `getBook()` ‚Äî —Å–≤—è–∑—å —Å –∫–Ω–∏–≥–æ–π (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `getAuthor()` ‚Äî —Å–≤—è–∑—å —Å –∞–≤—Ç–æ—Ä–æ–º (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `tableName()` ‚Äî –∏–º—è —Ç–∞–±–ª–∏—Ü—ã (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π ‚Äî `testValidationRequiredFields`
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–≤—è–∑–∏ ‚Äî `testSaveBookAuthor`
- ‚úÖ –°–≤—è–∑—å getBook() ‚Äî `testGetBookRelation`
- ‚úÖ –°–≤—è–∑—å getAuthor() ‚Äî `testGetAuthorRelation`

---

### AuthorSubscription (5/5 –º–µ—Ç–æ–¥–æ–≤ = 100%) ‚úÖ

**–ú–µ—Ç–æ–¥—ã:**
- ‚úÖ `behaviors()` ‚Äî TimestampBehavior (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `rules()` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è (–≤–∫–ª—é—á–∞—è unique) (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `attributeLabels()` ‚Äî –º–µ—Ç–∫–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- ‚úÖ `getAuthor()` ‚Äî —Å–≤—è–∑—å —Å –∞–≤—Ç–æ—Ä–æ–º (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `tableName()` ‚Äî –∏–º—è —Ç–∞–±–ª–∏—Ü—ã (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π ‚Äî `testValidationRequiredFields`
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ (author_id, phone) ‚Äî `testUniqueConstraint`
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ ‚Äî `testSaveSubscription`
- ‚úÖ –°–≤—è–∑—å getAuthor() ‚Äî `testGetAuthorRelation`
- ‚úÖ TimestampBehavior —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî `testTimestampBehavior`

---

### User (3/4 –º–µ—Ç–æ–¥–æ–≤ = 75%) ‚úÖ

**–ú–µ—Ç–æ–¥—ã:**
- ‚úÖ `findIdentity($id)` ‚Äî –ø–æ–∏—Å–∫ –ø–æ ID (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `findByUsername($username)` ‚Äî –ø–æ–∏—Å–∫ –ø–æ username (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `validateAuthKey($authKey)` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è auth_key (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚úÖ `validatePassword($password)` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)
- ‚ùå `findIdentityByAccessToken($token)` ‚Äî **–Ω–µ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è** (–º–µ—Ç–æ–¥ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID ‚Äî `testFindUserById`
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ username ‚Äî `testFindUserByUsername`
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è auth_key –∏ –ø–∞—Ä–æ–ª—è ‚Äî `testValidateUser`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¢–µ—Å—Ç `testFindUserByAccessToken` –±—ã–ª —É–¥–∞–ª–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –º–µ—Ç–æ–¥ `findIdentityByAccessToken` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ (–Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è REST API —Å —Ç–æ–∫–µ–Ω–∞–º–∏, –∞ —É –Ω–∞—Å –≤–µ–±-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–µ—Å—Å–∏–∏).

---

## –ú–æ–¥–µ–ª–∏ –ø–æ–∏—Å–∫–∞

### AuthorSearch (3/3 –º–µ—Ç–æ–¥–æ–≤ = 100%) ‚úÖ

**–ú–µ—Ç–æ–¥—ã:**
- ‚úÖ `rules()` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –∫–æ—Å–≤–µ–Ω–Ω–æ)
- ‚úÖ `scenarios()` ‚Äî —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- ‚úÖ `search($params)` ‚Äî –ø–æ–∏—Å–∫ (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ full_name ‚Äî `testSearchByFullName`
- ‚úÖ –ü–æ–∏—Å–∫ –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤ ‚Äî `testSearchEmpty`
- ‚úÖ –ü–æ–∏—Å–∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ ‚Äî `testSearchByNonExistentName`

---

### BookSearch (3/3 –º–µ—Ç–æ–¥–æ–≤ = 100%) ‚úÖ

**–ú–µ—Ç–æ–¥—ã:**
- ‚úÖ `rules()` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –∫–æ—Å–≤–µ–Ω–Ω–æ)
- ‚úÖ `scenarios()` ‚Äî —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- ‚úÖ `search($params)` ‚Äî –ø–æ–∏—Å–∫ (—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ title ‚Äî `testSearchByTitle`
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ year ‚Äî `testSearchByYear`
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ isbn ‚Äî `testSearchByIsbn`
- ‚úÖ –ü–æ–∏—Å–∫ –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤ ‚Äî `testSearchEmpty`

---

## –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã

### Unit —Ç–µ—Å—Ç—ã
- ‚úÖ `UserTest.php` ‚Äî —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç User –º–æ–¥–µ–ª—å (findIdentity, findByUsername, validateAuthKey, validatePassword)
- ‚úÖ `AuthorTest.php` ‚Äî —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç Author –º–æ–¥–µ–ª—å (–≤–∞–ª–∏–¥–∞—Ü–∏—è, —Å–≤—è–∑–∏)
- ‚úÖ `BookTest.php` ‚Äî —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç Book –º–æ–¥–µ–ª—å (–≤–∞–ª–∏–¥–∞—Ü–∏—è, —Å–≤—è–∑–∏, afterFind)
- ‚úÖ `AuthorSubscriptionTest.php` ‚Äî —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç AuthorSubscription –º–æ–¥–µ–ª—å (–≤–∞–ª–∏–¥–∞—Ü–∏—è, —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å, —Å–≤—è–∑–∏)
- ‚úÖ `BookAuthorTest.php` ‚Äî —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç BookAuthor –º–æ–¥–µ–ª—å (–≤–∞–ª–∏–¥–∞—Ü–∏—è, —Å–≤—è–∑–∏ getBook/getAuthor)
- ‚úÖ `AuthorSearchTest.php` ‚Äî —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç AuthorSearch –º–æ–¥–µ–ª—å (–ø–æ–∏—Å–∫ –ø–æ full_name)
- ‚úÖ `BookSearchTest.php` ‚Äî —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç BookSearch –º–æ–¥–µ–ª—å (–ø–æ–∏—Å–∫ –ø–æ title, year, isbn)
- ‚úÖ `SmsServiceTest.php` ‚Äî —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç SmsService (–æ—Ç–ø—Ä–∞–≤–∫–∞ SMS, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏) ‚Äî **–ù–û–í–´–ô**
- ‚úÖ `LoginFormTest.php` ‚Äî —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç LoginForm
- ‚úÖ `ContactFormTest.php` ‚Äî —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç ContactForm

### Functional —Ç–µ—Å—Ç—ã
- ‚úÖ `AuthorControllerCest.php` ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã AuthorController (CRUD + AccessControl)
- ‚úÖ `BookControllerCest.php` ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã BookController (CRUD + AccessControl + —Å–≤—è–∑–∏)
- ‚úÖ `ReportControllerCest.php` ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã ReportController (–æ—Ç—á–µ—Ç –¢–û–ü-10) ‚Äî **–ù–û–í–´–ô**
- ‚úÖ `LoginFormCest.php` ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã LoginForm
- ‚úÖ `ContactFormCest.php` ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã ContactForm

### Acceptance —Ç–µ—Å—Ç—ã
- ‚úÖ `HomeCest.php` ‚Äî —Ç–µ—Å—Ç—ã –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ `LoginCest.php` ‚Äî —Ç–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ `AboutCest.php` ‚Äî —Ç–µ—Å—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã About
- ‚úÖ `ContactCest.php` ‚Äî —Ç–µ—Å—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã Contact

---

## –í—ã–≤–æ–¥—ã

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚úÖ
- **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏: 98%** –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ (Author, Book, CRUD, SMS)
- **–í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã** —á–µ—Ä–µ–∑ functional-—Ç–µ—Å—Ç—ã (25 —Ç–µ—Å—Ç–æ–≤)
- **–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –º–æ–¥–µ–ª–µ–π –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã** —á–µ—Ä–µ–∑ unit-—Ç–µ—Å—Ç—ã (49 —Ç–µ—Å—Ç–æ–≤)
- **SmsService –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω** —á–µ—Ä–µ–∑ unit-—Ç–µ—Å—Ç—ã (5 —Ç–µ—Å—Ç–æ–≤)
- **AccessControl –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω** (–≥–æ—Å—Ç—å/–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π)
- **–°–≤—è–∑–∏ –º–æ–¥–µ–ª–µ–π –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã** (getBooks, getAuthors, getAuthor, getBook)
- **–ú–æ–¥–µ–ª–∏ –ø–æ–∏—Å–∫–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã** (AuthorSearch, BookSearch)
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤: 85** (31 functional + 54 unit)
- **–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç** –±–µ–∑ –æ—à–∏–±–æ–∫ –∏ –ø—Ä–æ–ø—É—Å–∫–æ–≤

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

**Functional —Ç–µ—Å—Ç—ã (31 —Ç–µ—Å—Ç):**
- ‚úÖ AuthorControllerCest ‚Äî 8 —Ç–µ—Å—Ç–æ–≤ (CRUD + AccessControl)
- ‚úÖ BookControllerCest ‚Äî 7 —Ç–µ—Å—Ç–æ–≤ (CRUD + AccessControl + —Å–≤—è–∑–∏)
- ‚úÖ ReportControllerCest ‚Äî 6 —Ç–µ—Å—Ç–æ–≤ (–æ—Ç—á–µ—Ç –¢–û–ü-10, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞) ‚Äî **–ù–û–í–´–ô**
- ‚úÖ LoginFormCest ‚Äî 5 —Ç–µ—Å—Ç–æ–≤ (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- ‚úÖ ContactFormCest ‚Äî 4 —Ç–µ—Å—Ç–∞ (–∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞)

**Unit —Ç–µ—Å—Ç—ã (54 —Ç–µ—Å—Ç–∞):**
- ‚úÖ AuthorTest ‚Äî 6 —Ç–µ—Å—Ç–æ–≤ (–≤–∞–ª–∏–¥–∞—Ü–∏—è, —Å–≤—è–∑–∏)
- ‚úÖ BookTest ‚Äî 6 —Ç–µ—Å—Ç–æ–≤ (–≤–∞–ª–∏–¥–∞—Ü–∏—è, —Å–≤—è–∑–∏, afterFind)
- ‚úÖ AuthorSubscriptionTest ‚Äî 6 —Ç–µ—Å—Ç–æ–≤ (–≤–∞–ª–∏–¥–∞—Ü–∏—è, —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å, —Å–≤—è–∑–∏)
- ‚úÖ BookAuthorTest ‚Äî 5 —Ç–µ—Å—Ç–æ–≤ (–≤–∞–ª–∏–¥–∞—Ü–∏—è, —Å–≤—è–∑–∏)
- ‚úÖ AuthorSearchTest ‚Äî 3 —Ç–µ—Å—Ç–∞ (–ø–æ–∏—Å–∫)
- ‚úÖ BookSearchTest ‚Äî 4 —Ç–µ—Å—Ç–∞ (–ø–æ–∏—Å–∫)
- ‚úÖ SmsServiceTest ‚Äî 5 —Ç–µ—Å—Ç–æ–≤ (–æ—Ç–ø—Ä–∞–≤–∫–∞ SMS, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏) ‚Äî **–ù–û–í–´–ô**
- ‚úÖ UserTest ‚Äî 3 —Ç–µ—Å—Ç–∞ (–ø–æ–∏—Å–∫, –≤–∞–ª–∏–¥–∞—Ü–∏—è) ‚Äî —É–±—Ä–∞–Ω testFindUserByAccessToken (–º–µ—Ç–æ–¥ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- ‚úÖ LoginFormTest ‚Äî 3 —Ç–µ—Å—Ç–∞ (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- ‚úÖ ContactFormTest ‚Äî 1 —Ç–µ—Å—Ç
- ‚úÖ AlertTest ‚Äî 12 —Ç–µ—Å—Ç–æ–≤ (–≤–∏–¥–∂–µ—Ç—ã)

### –ù–µ –ø–æ–∫—Ä—ã—Ç–æ —Ç–µ—Å—Ç–∞–º–∏

**–ú–æ–¥–µ–ª–∏:**
- ‚ö†Ô∏è Book::upload() ‚Äî —Ç—Ä–µ–±—É–µ—Ç –º–æ–∫–æ–≤ —Ñ–∞–π–ª–æ–≤, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –ª–æ–≥–∏–∫–∞ –ø—Ä–æ—Å—Ç–∞—è)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏. Book::upload() –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–∫–æ–≤ —Ñ–∞–π–ª–æ–≤, –Ω–æ —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

---

---

## –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤

### Functional —Ç–µ—Å—Ç—ã (31 —Ç–µ—Å—Ç, 98 assertions)

| –¢–µ—Å—Ç-–∫–ª–∞—Å—Å | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤ | –ü–æ–∫—Ä—ã—Ç–∏–µ |
|------------|-------------------|----------|
| AuthorControllerCest | 8 | CRUD + AccessControl (–≥–æ—Å—Ç—å/–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π) |
| BookControllerCest | 7 | CRUD + AccessControl + —Å–≤—è–∑–∏ —Å –∞–≤—Ç–æ—Ä–∞–º–∏ |
| ReportControllerCest | 6 | –û—Ç—á–µ—Ç –¢–û–ü-10, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≥–æ–¥—É, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ |
| LoginFormCest | 5 | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (—É—Å–ø–µ—à–Ω–∞—è/–Ω–µ—É—Å–ø–µ—à–Ω–∞—è) |
| ContactFormCest | 4 | –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞ |
| **–ò—Ç–æ–≥–æ** | **31** | **100% CRUD –æ–ø–µ—Ä–∞—Ü–∏–π + –æ—Ç—á–µ—Ç—ã** |

### Unit —Ç–µ—Å—Ç—ã (54 —Ç–µ—Å—Ç–∞, 176 assertions)

| –¢–µ—Å—Ç-–∫–ª–∞—Å—Å | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤ | –ü–æ–∫—Ä—ã—Ç–∏–µ |
|------------|-------------------|----------|
| AuthorTest | 6 | –í–∞–ª–∏–¥–∞—Ü–∏—è, —Å–≤—è–∑–∏, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ |
| BookTest | 6 | –í–∞–ª–∏–¥–∞—Ü–∏—è, —Å–≤—è–∑–∏, afterFind, TimestampBehavior |
| AuthorSubscriptionTest | 6 | –í–∞–ª–∏–¥–∞—Ü–∏—è, —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å, —Å–≤—è–∑–∏, TimestampBehavior |
| BookAuthorTest | 5 | –í–∞–ª–∏–¥–∞—Ü–∏—è, —Å–≤—è–∑–∏ getBook/getAuthor |
| AuthorSearchTest | 3 | –ü–æ–∏—Å–∫ –ø–æ full_name |
| BookSearchTest | 4 | –ü–æ–∏—Å–∫ –ø–æ title, year, isbn |
| SmsServiceTest | 5 | –û—Ç–ø—Ä–∞–≤–∫–∞ SMS, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ |
| UserTest | 3 | –ü–æ–∏—Å–∫, –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è –∏ auth_key |
| LoginFormTest | 3 | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (—É—Å–ø–µ—à–Ω–∞—è/–Ω–µ—É—Å–ø–µ—à–Ω–∞—è) |
| ContactFormTest | 1 | –û—Ç–ø—Ä–∞–≤–∫–∞ email |
| AlertTest | 12 | –í–∏–¥–∂–µ—Ç—ã (flash-—Å–æ–æ–±—â–µ–Ω–∏—è) |
| **–ò—Ç–æ–≥–æ** | **54** | **–í—Å–µ –º–µ—Ç–æ–¥—ã –º–æ–¥–µ–ª–µ–π –∏ —Å–µ—Ä–≤–∏—Å–æ–≤** |

### –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤:** 85 (31 functional + 54 unit)
- **–í—Å–µ–≥–æ assertions:** 274
- **–ü–æ–∫—Ä—ã—Ç–∏–µ:** 98% (46/47 –º–µ—Ç–æ–¥–æ–≤)
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

### –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (23 –Ω–æ–≤—ã—Ö)

- ‚úÖ **BookAuthorTest** ‚Äî 5 —Ç–µ—Å—Ç–æ–≤ (–≤–∞–ª–∏–¥–∞—Ü–∏—è, —Å–≤—è–∑–∏ getBook/getAuthor)
- ‚úÖ **AuthorSearchTest** ‚Äî 3 —Ç–µ—Å—Ç–∞ (–ø–æ–∏—Å–∫ –ø–æ full_name)
- ‚úÖ **BookSearchTest** ‚Äî 4 —Ç–µ—Å—Ç–∞ (–ø–æ–∏—Å–∫ –ø–æ title, year, isbn)
- ‚úÖ **SmsServiceTest** ‚Äî 5 —Ç–µ—Å—Ç–æ–≤ (–æ—Ç–ø—Ä–∞–≤–∫–∞ SMS, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏)
- ‚úÖ **ReportControllerCest** ‚Äî 6 —Ç–µ—Å—Ç–æ–≤ (–æ—Ç—á–µ—Ç –¢–û–ü-10, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞)

---

**–í–∞–∂–Ω–æ:** –°–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∏–Ω—Ü–∏–ø—É KISS –∏–∑ vision.md, —Ç–µ—Å—Ç—ã —Ñ–æ–∫—É—Å–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏. –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (CRUD, –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Å–≤—è–∑–∏) –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏.

