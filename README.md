# My Library

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π –Ω–∞ –±–∞–∑–µ Yii2 Basic Template. –ü–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–≤—Ç–æ—Ä–∞–º–∏, –∫–Ω–∏–≥–∞–º–∏, –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –Ω–∞ –∞–≤—Ç–æ—Ä–æ–≤ –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –æ—Ç—á–µ—Ç—ã.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [–ú–∏–≥—Ä–∞—Ü–∏–∏](#–º–∏–≥—Ä–∞—Ü–∏–∏)
- [RBAC](#rbac)
- [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å](#—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ](#–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- PHP 8.2+
- MySQL 8.0+
- Composer
- Web-—Å–µ—Ä–≤–µ—Ä (Apache/Nginx) –∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π PHP —Å–µ—Ä–≤–µ—Ä

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
composer install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö MySQL:

```sql
CREATE DATABASE library CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ `config/db.php`:

```php
return [
    'class' => 'yii\db\Connection',
    'dsn' => 'mysql:host=localhost;dbname=library',
    'username' => 'your_username',
    'password' => 'your_password',
    'charset' => 'utf8mb4',
];
```

### 3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ RBAC
php yii migrate --migrationPath=@yii/rbac/migrations

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
php yii migrate
```

### 4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è RBAC

```bash
php yii rbac/init
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞—Å—Ç:
- –†–æ–ª—å `user` (–¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- –†–∞–∑—Ä–µ—à–µ–Ω–∏—è `manageBooks` –∏ `manageAuthors`
- –ù–∞–∑–Ω–∞—á–∏—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ä–æ–ª–∏ `user`

### 5. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π PHP —Å–µ—Ä–≤–µ—Ä:

```bash
php -S localhost:8080 -t web
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8080`

#### –ò–ª–∏ —á–µ—Ä–µ–∑ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä:

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `web/`

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`config/params.php`)

```php
'sms' => [
    'apiKey' => 'emulator', // –≠–º—É–ª—è—Ç–æ—Ä SMS (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
],
'book' => [
    'maxCoverSize' => 5 * 1024 * 1024, // 5MB
    'allowedCoverTypes' => ['image/jpeg', 'image/png'],
],
```

### Pretty URLs

Pretty URLs –≤–∫–ª—é—á–µ–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ `config/web.php`:

```php
'urlManager' => [
    'enablePrettyUrl' => true,
    'showScriptName' => false,
],
```

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∞–π—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥ (`/book/index`):

```php
'homeUrl' => '/book/index',
'name' => 'My Library',
```

---

## –ú–∏–≥—Ä–∞—Ü–∏–∏

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ë–î –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
php yii migrate

# –û—Ç–∫–∞—Ç–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–≥—Ä–∞—Ü–∏—é
php yii migrate/down

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–π
php yii migrate/history
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

- `user` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- `author` ‚Äî –∞–≤—Ç–æ—Ä—ã –∫–Ω–∏–≥
- `book` ‚Äî –∫–Ω–∏–≥–∏
- `book_author` ‚Äî —Å–≤—è–∑—å –º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º –º–µ–∂–¥—É –∫–Ω–∏–≥–∞–º–∏ –∏ –∞–≤—Ç–æ—Ä–∞–º–∏
- `author_subscription` ‚Äî –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∞–≤—Ç–æ—Ä–æ–≤ (—Ç–µ–ª–µ—Ñ–æ–Ω, –∞–≤—Ç–æ—Ä)

---

## RBAC

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `yii\rbac\DbManager` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª—è–º–∏ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏.

### –†–æ–ª–∏

- `guest` (–Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å) ‚Äî –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å
- `user` (–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å) ‚Äî –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å

### –†–∞–∑—Ä–µ—à–µ–Ω–∏—è

- `manageBooks` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∞–º–∏
- `manageAuthors` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞–º–∏

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```bash
php yii rbac/init
```

---

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ù–∞–≤–∏–≥–∞—Ü–∏—è

- **–ö–Ω–∏–≥–∏** ‚Äî –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–Ω–∏–≥
- **–ê–≤—Ç–æ—Ä—ã** ‚Äî —Å–ø–∏—Å–æ–∫ –∞–≤—Ç–æ—Ä–æ–≤
- **–û—Ç—á–µ—Ç** ‚Äî –¢–û–ü-10 –∞–≤—Ç–æ—Ä–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∫–Ω–∏–≥
- **About** ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ
- **Login/Logout** ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω** ‚Äî Bootstrap 5
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞** ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º** ‚Äî –æ—à–∏–±–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º
- **Drag & Drop –∑–∞–≥—Ä—É–∑–∫–∞** ‚Äî —É–¥–æ–±–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±–ª–æ–∂–µ–∫ –∫–Ω–∏–≥ —Å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞–º–∏

- **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞** (`/author`) ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º
- **–ü—Ä–æ—Å–º–æ—Ç—Ä –∞–≤—Ç–æ—Ä–∞** (`/author/view?id=X`) ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º
- **–°–æ–∑–¥–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞** (`/author/create`) ‚Äî —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** (`/author/update?id=X`) ‚Äî —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º
- **–£–¥–∞–ª–µ–Ω–∏–µ** (`/author/delete?id=X`) ‚Äî —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∞–º–∏

- **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞** (`/book`) ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º, –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∞–π—Ç–∞
  - –†–µ–∂–∏–º—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–∞: —Ç–∞–±–ª–∏—Ü–∞ –∏ –∫–∞—Ä—Ç–æ—á–∫–∏
  - –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –∞–≤—Ç–æ—Ä—É
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≥–æ–¥—É –∏ ISBN
- **–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–Ω–∏–≥–∏** (`/book/view?id=X`) ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º
- **–°–æ–∑–¥–∞–Ω–∏–µ/–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏** (`/book/create`, `/book/update?id=X`) ‚Äî —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º
  - –ï–¥–∏–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –í—ã–±–æ—Ä –∞–≤—Ç–æ—Ä–æ–≤ (—á–µ–∫–±–æ–∫—Å—ã)
  - **–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±–ª–æ–∂–∫–∏:**
    - Drag & Drop ‚Äî –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
    - –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
    - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ (JPEG/PNG) –∏ —Ä–∞–∑–º–µ—Ä–∞ (–¥–æ 5MB)
    - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –æ–±–ª–æ–∂–∫–∏ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
  - –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º
- **–£–¥–∞–ª–µ–Ω–∏–µ** (`/book/delete?id=X`) ‚Äî —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º

### 3. –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∞–≤—Ç–æ—Ä–æ–≤

- **–ü–æ–¥–ø–∏—Å–∫–∞** (`/author/view?id=X`) ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º (–≥–æ—Å—Ç–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
  - –§–æ—Ä–º–∞ —Å –ø–æ–ª–µ–º "–¢–µ–ª–µ—Ñ–æ–Ω"
  - –ü—Ä–∏ –ø–æ–¥–ø–∏—Å–∫–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è SMS –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (—ç–º—É–ª—è—Ç–æ—Ä)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã (–æ–¥–∏–Ω —Ç–µ–ª–µ—Ñ–æ–Ω –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –¥–≤–∞–∂–¥—ã –Ω–∞ –æ–¥–Ω–æ–≥–æ –∞–≤—Ç–æ—Ä–∞)

### 4. SMS —Å–µ—Ä–≤–∏—Å

- **–≠–º—É–ª—è—Ç–æ—Ä** ‚Äî –≤—Å–µ SMS –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `runtime/logs/app.log`
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
  - –ü—Ä–∏ –ø–æ–¥–ø–∏—Å–∫–µ –Ω–∞ –∞–≤—Ç–æ—Ä–∞ ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
  - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –∫–Ω–∏–≥–∏ ‚Äî SMS –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤—Å–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º –∞–≤—Ç–æ—Ä–æ–≤ –∫–Ω–∏–≥–∏

### 5. –û—Ç—á–µ—Ç—ã

- **–¢–û–ü-10 –∞–≤—Ç–æ—Ä–æ–≤** (`/report/top-authors`) ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≥–æ–¥—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∫–Ω–∏–≥ (DESC)
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –§–ò–û –∞–≤—Ç–æ—Ä–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–∏–≥

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Codeception –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
vendor/bin/codecept run

# –¢–æ–ª—å–∫–æ unit —Ç–µ—Å—Ç—ã
vendor/bin/codecept run unit

# –¢–æ–ª—å–∫–æ functional —Ç–µ—Å—Ç—ã
vendor/bin/codecept run functional

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
vendor/bin/codecept run functional AuthorControllerCest
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ `config/test_db.php`:

```php
$db = require __DIR__ . '/db.php';
$db['dsn'] = 'mysql:host=localhost;dbname=library_test';
$db['username'] = 'library_test';
$db['password'] = 'your_password';
return $db;
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤

- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤:** 54 unit —Ç–µ—Å—Ç–∞
- **Assertions:** 176
- **–ü–æ–∫—Ä—ã—Ç–∏–µ:** –í—ã—Å–æ–∫–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `runtime/logs/app.log`:

- –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∫–Ω–∏–≥
- –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∞–≤—Ç–æ—Ä–æ–≤
- –û—Ç–ø—Ä–∞–≤–∫–∞ SMS (—ç–º—É–ª—è—Ç–æ—Ä)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–æ–≤

### –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤

```
[timestamp] [level] [category] message
```

–ü—Ä–∏–º–µ—Ä:
```
2025-01-09 12:00:00 [info] [app\controllers\AuthorController::actionCreate] Author created: ID=1, Name=–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π
2025-01-09 12:00:01 [info] [app\services\SmsService::send] SMS to +79001234567: –í—ã —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–ø–∏—Å–∞–ª–∏—Å—å –Ω–∞ –∞–≤—Ç–æ—Ä–∞: –õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
library/
‚îú‚îÄ‚îÄ commands/          # –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (RBAC –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ config/           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ controllers/      # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (Author, Book, Report)
‚îú‚îÄ‚îÄ models/           # –ú–æ–¥–µ–ª–∏ (ActiveRecord)
‚îÇ   ‚îî‚îÄ‚îÄ forms/        # –ú–æ–¥–µ–ª–∏ —Ñ–æ—Ä–º (SubscribeForm)
‚îú‚îÄ‚îÄ services/         # –°–µ—Ä–≤–∏—Å—ã (SmsService)
‚îú‚îÄ‚îÄ views/            # –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ author/       # Views –¥–ª—è –∞–≤—Ç–æ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ book/         # Views –¥–ª—è –∫–Ω–∏–≥
‚îÇ   ‚îú‚îÄ‚îÄ report/        # Views –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ layouts/      # Layouts
‚îú‚îÄ‚îÄ web/              # Web-–∫–æ—Ä–µ–Ω—å
‚îÇ   ‚îî‚îÄ‚îÄ uploads/      # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–æ–±–ª–æ–∂–∫–∏)
‚îÇ       ‚îî‚îÄ‚îÄ covers/
‚îú‚îÄ‚îÄ migrations/       # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îî‚îÄ‚îÄ tests/            # –¢–µ—Å—Ç—ã
    ‚îú‚îÄ‚îÄ functional/   # Functional —Ç–µ—Å—Ç—ã
    ‚îî‚îÄ‚îÄ unit/         # Unit —Ç–µ—Å—Ç—ã
```

---

## –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –£–ª—É—á—à–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

- ‚úÖ **–ï–¥–∏–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** ‚Äî —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–Ω–∏–≥–∞–º–∏
- ‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤** ‚Äî drag & drop —Å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ **–í–∏–∑—É–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** ‚Äî –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º
- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** ‚Äî –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ** ‚Äî "My Library"

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- –û–±—ä–µ–¥–∏–Ω–µ–Ω—ã —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–Ω–∏–≥
- –î–æ–±–∞–≤–ª–µ–Ω JavaScript –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –£–ª—É—á—à–µ–Ω—ã CSS —Å—Ç–∏–ª–∏ –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π

---

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ü—Ä–∏–Ω—Ü–∏–ø—ã

- **KISS** ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è Yii2** ‚Äî –±–µ–∑ –æ–≤–µ—Ä–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥–∞
- **ActiveRecord** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- **–ü—Ä—è–º–æ–π SQL** ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `vision.md` ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –≤–∏–¥–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `conventions.md` ‚Äî —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- `doc/tasklist.md` ‚Äî –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- `doc/workflow.md` ‚Äî –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã
- `doc/test_coverage.md` ‚Äî –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –Ω–∞ –±–∞–∑–µ Yii2 Basic Template.

---

## –ê–≤—Ç–æ—Ä

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –∑–∞–¥–∞–Ω–∏–µ–º.
